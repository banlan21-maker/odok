# Plan: odok-app (오독 - AI 독서 앱)

## 1. 개요

AI가 만들어주는 나만의 책을 읽는 독서 앱.
사용자가 장르를 선택하면 AI(Gemini)가 책을 생성해주고, 읽고, 보관하고, 커뮤니티 활동을 할 수 있다.

## 2. 목표 사용자

- 가벼운 읽을거리를 원하는 일반 독자
- AI로 자신만의 이야기를 만들고 싶은 사용자
- 시리즈를 함께 이어쓰고 싶은 참여형 독자

## 3. 핵심 기능 요구사항

### FR-01: 사용자 인증
- Google OAuth 로그인
- 프로필 설정 (닉네임 6자, 언어, 글꼴 크기)
- 인앱 브라우저(카카오톡/인스타) 감지 및 외부 브라우저 안내

### FR-02: 책 생성 (AI)
- 4개 대장르: 소설, 에세이, 자기계발, 인문
- 장르별 5개 하위장르 선택
- 키워드, 분위기, 제목 입력
- Gemini AI(2.0/2.5 Flash) 호출로 책 생성
- 하루 2회 집필 제한 (1회 무료, 2회째 잉크 소모)
- 장르별 1일 1슬롯 (선착순)

### FR-03: 책 읽기 & 상호작용
- 책 내용 뷰어 (글꼴 크기 조절)
- 잉크로 책 해금 (타인 작품)
- 좋아요, 즐겨찾기, 완독(3분 이상) 기능
- 별점 (1~3점), 댓글 (200자, 대댓글 지원)
- 평점+댓글 완료 시 포인트 보상

### FR-04: 시리즈 시스템
- 릴레이 소설: 누구나 다음 화 집필 가능
- 하루 1회 시리즈 생성 슬롯 (공유)
- 2화부터 투표 (연재/완결) - Lv2 이상
- 완결 마킹 기능
- 이전 맥락 보존 (캐릭터/설정/누적 요약)

### FR-05: 잉크 경제 시스템
- 최대 999개 보유
- 초기 지급: 10개
- 소모: 읽기(2잉크, Lv11+ 1잉크), 추가집필(5잉크, Lv21+ 4잉크)
- 획득: 출석(2~3잉크), 레벨업(5잉크), 광고 시청, 선물
- 선물(잉크쏘기): Lv6+ 해금, 1~10개 전송

### FR-06: 레벨/경험치 시스템
- 잉크 1개 사용 = 10XP
- 4단계 티어: 새싹(Lv1-5), 작가(Lv6-10), 베스트(Lv11-20), 마스터(Lv21+)
- 티어별 혜택 차등

### FR-07: 홈 화면
- 오늘의 신작, 주간 베스트셀러, 인기 작가
- 출석 체크
- 공지사항

### FR-08: 서재 & 보관함
- 장르별 전체 책 목록 (서재)
- 내가 쓴 책 + 즐겨찾기 (보관함)

### FR-09: 관리자 기능
- 공지사항 CRUD
- 부적절한 책 삭제
- 이메일 기반 관리자 판별

### FR-10: 모바일 지원
- Capacitor (Android) 래핑
- AdMob 리워드 광고
- 화면 꺼짐 방지 (생성 중)

### FR-11: 다국어
- 한국어/영어 기본 지원
- AI 번역 기능 (Gemini)

### FR-12: 배포
- Firebase Hosting (웹)
- GitHub Actions 자동 배포
- Firebase Functions (서울 리전)

## 4. 기술 스택

| 영역 | 기술 |
|------|------|
| 프론트엔드 | React 19 + Vite + Tailwind CSS |
| 백엔드 | Firebase (Firestore, Functions v2, Auth, Hosting) |
| AI | Google Gemini 2.0/2.5 Flash |
| 모바일 | Capacitor 8 (Android) |
| 광고 | AdMob |
| CI/CD | GitHub Actions |

## 5. 비기능 요구사항

- NFR-01: 책 생성 2~3분 이내
- NFR-02: Firestore 보안 규칙으로 데이터 보호
- NFR-03: 환경변수로 API 키 관리
- NFR-04: 에러 바운더리로 흰 화면 방지
